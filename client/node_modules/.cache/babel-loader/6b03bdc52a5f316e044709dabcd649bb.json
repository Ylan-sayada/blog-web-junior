{"ast":null,"code":"import _slicedToArray from\"/home/ilan/Documents/Developement/Mes_projets/BlogWebJunior/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState}from'react';import{Button,TextField}from'@material-ui/core';import SendIcon from'@material-ui/icons/Send';import axios from'axios';import isEmail from'../../../../utils/isEmail';import checkObjectBoolValue from'../../../../utils/checkObjectBoolValue';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function MessageForm(props){var errStateObject={errOnMail:false,errOnName:false,errOnTxt:false};var _useState=useState(errStateObject),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var name=useRef(document.createElement(\"input\"));var mail=useRef(document.createElement(\"input\"));var text=useRef(document.createElement(\"input\"));var sendComment=function sendComment(){var data={name:name.current.value,mail:mail.current.value,date:new Date(),text:text.current.value,articleID:props.id};errStateObject={errOnMail:isEmail(data.mail),errOnName:data.name.length>10||data.name.length===0,errOnTxt:data.text.length===0};checkObjectBoolValue(errStateObject,true)?setError(errStateObject):axios.post(\"\".concat(props.action),data).then(function(res){if(res.data)props.postState(true);}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();sendComment();},className:\"add-message-form\",children:[/*#__PURE__*/_jsx(TextField,{error:error.errOnName,helperText:error.errOnName?\"ארוך מדיי(מעל 10 תווים)/ריק\":\"\",inputRef:name,label:\"\\u05E9\\u05DD \\u05DE\\u05DC\\u05D0\"}),/*#__PURE__*/_jsx(TextField,{error:error.errOnMail,label:\"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05D3\\u05D5\\u05D0\\u05DC \\u05DB\\u05D0\\u05DF\",helperText:error.errOnMail?\"מייל לא תקין\":\"\",inputRef:mail}),/*#__PURE__*/_jsx(TextField,{error:error.errOnTxt,helperText:error.errOnTxt?\"השדה ריק\":\"\",inputRef:text,id:\"standard-textarea\",label:\"\\u05EA\\u05D2\\u05D5\\u05D1\\u05D4\",rows:\"4\",multiline:true}),/*#__PURE__*/_jsx(Button,{dir:\"ltr\",type:\"submit\",endIcon:/*#__PURE__*/_jsx(SendIcon,{}),children:\"\\u05E9\\u05DC\\u05D7\"})]})});}","map":{"version":3,"sources":["/home/ilan/Documents/Developement/Mes_projets/BlogWebJunior/client/src/common/vendorComponents/materialUi/input/MessageForm.tsx"],"names":["React","useRef","useState","Button","TextField","SendIcon","axios","isEmail","checkObjectBoolValue","MessageForm","props","errStateObject","errOnMail","errOnName","errOnTxt","error","setError","name","document","createElement","mail","text","sendComment","data","current","value","date","Date","articleID","id","length","post","action","then","res","postState","catch","console","log","e","preventDefault"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react'\nimport { Button, TextField } from '@material-ui/core';\nimport SendIcon from '@material-ui/icons/Send';\nimport axios from 'axios';\nimport isEmail from '../../../../utils/isEmail';\nimport checkObjectBoolValue from '../../../../utils/checkObjectBoolValue';\nexport default function MessageForm(props: { id: string, action: string, postState: any }) {\n    let errStateObject = {\n        errOnMail: false,\n        errOnName: false,\n        errOnTxt: false\n    }\n    let [error, setError] = useState(errStateObject);\n    const name = useRef(document.createElement(\"input\"));\n    const mail = useRef(document.createElement(\"input\"));\n    const text = useRef(document.createElement(\"input\"));\n\n    let sendComment = () => {\n        let data = {\n            name: name.current.value,\n            mail: mail.current.value,\n            date: new Date(),\n            text: text.current.value,\n            articleID: props.id\n        }\n        errStateObject = {\n            errOnMail: isEmail(data.mail),\n            errOnName: data.name.length > 10 || data.name.length === 0,\n            errOnTxt: data.text.length === 0,\n        }\n\n        checkObjectBoolValue(errStateObject, true) ?\n            setError(errStateObject)\n            :\n            axios.post(`${props.action}`, data)\n                .then((res) => {\n                    if (res.data)\n                        props.postState(true);\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n    };\n    return (\n        <React.Fragment>\n            <form onSubmit={(e) => {\n                e.preventDefault();\n                sendComment();\n            }} className=\"add-message-form\"\n            >\n                <TextField\n                    error={error.errOnName}\n                    helperText={error.errOnName ? \"ארוך מדיי(מעל 10 תווים)/ריק\" : \"\"}\n                    inputRef={name}\n                    label=\"שם מלא\" />\n                <TextField\n                    error={error.errOnMail}\n                    label=\"הכנס דואל כאן\"\n                    helperText={error.errOnMail ? \"מייל לא תקין\" : \"\"}\n                    inputRef={mail}\n                />\n                <TextField\n                    error={error.errOnTxt}\n                    helperText={error.errOnTxt ? \"השדה ריק\" : \"\"}\n                    inputRef={text}\n                    id=\"standard-textarea\"\n                    label=\"תגובה\"\n                    rows=\"4\"\n                    multiline\n                />\n                <Button\n                    dir=\"ltr\"\n                    type=\"submit\"\n                    endIcon={<SendIcon />}\n                >\n                    שלח\n                </Button>\n            </form>\n        </React.Fragment>\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}