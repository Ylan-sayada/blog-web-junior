{"ast":null,"code":"var _jsxFileName = \"/home/ilan/Documents/Developement/Mes_projets/WebJuniorBlog/client/blog-web-junior2/src/common/vendorComponents/materialUi/input/MessageForm.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState } from 'react';\nimport { Button, TextField } from '@material-ui/core';\nimport SendIcon from '@material-ui/icons/Send';\nimport axios from 'axios';\nimport isEmail from '../../../../utils/isEmail';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MessageForm(props) {\n  _s();\n\n  let [error, setError] = useState(false);\n  const name = useRef(document.createElement(\"input\"));\n  const mail = useRef(document.createElement(\"input\"));\n  const text = useRef(document.createElement(\"input\"));\n\n  let sendComment = () => {\n    let data = {\n      name: name.current.value,\n      mail: mail.current.value,\n      date: new Date(),\n      text: text.current.value,\n      articleID: props.id\n    };\n    let err = isEmail(data.mail) ? false : true;\n\n    if (!err) {\n      axios.post(`${props.action}${props.id}`, data).then(res => {\n        if (res.data) props.postState(true);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      setError(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"add-message-form\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        inputRef: name,\n        label: \"\\u05E9\\u05DD \\u05DE\\u05DC\\u05D0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        error: error,\n        label: \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05D3\\u05D5\\u05D0\\u05DC \\u05DB\\u05D0\\u05DF\",\n        helperText: error ? \"מייל לא תקין\" : \"\",\n        inputRef: mail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        inputRef: text,\n        id: \"standard-textarea\",\n        label: \"\\u05EA\\u05D2\\u05D5\\u05D1\\u05D4\",\n        rows: \"4\",\n        multiline: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        dir: \"ltr\",\n        type: \"submit\",\n        onSubmit: e => {\n          sendComment();\n          e.preventDefault();\n        },\n        variant: \"contained\",\n        endIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 30\n        }, this),\n        onClick: sendComment,\n        children: \"\\u05E9\\u05DC\\u05D7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MessageForm, \"273W8Gwo7f+kphdIFIdyA2pEL6E=\");\n\n_c = MessageForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"MessageForm\");","map":{"version":3,"sources":["/home/ilan/Documents/Developement/Mes_projets/WebJuniorBlog/client/blog-web-junior2/src/common/vendorComponents/materialUi/input/MessageForm.tsx"],"names":["React","useRef","useState","Button","TextField","SendIcon","axios","isEmail","MessageForm","props","error","setError","name","document","createElement","mail","text","sendComment","data","current","value","date","Date","articleID","id","err","post","action","then","res","postState","catch","console","log","e","preventDefault"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react'\nimport { Button, TextField } from '@material-ui/core';\nimport SendIcon from '@material-ui/icons/Send';\nimport axios from 'axios';\nimport isEmail from '../../../../utils/isEmail';\nexport default function MessageForm(props: { id: string, action: string, postState: any }) {\n    let [error, setError] = useState(false);\n    const name = useRef(document.createElement(\"input\"));\n    const mail = useRef(document.createElement(\"input\"));\n    const text = useRef(document.createElement(\"input\"));\n\n    let sendComment = () => {\n        let data = {\n            name: name.current.value,\n            mail: mail.current.value,\n            date: new Date(),\n            text: text.current.value,\n            articleID: props.id\n        }\n        let err = isEmail(data.mail) ? false : true;\n        if (!err) {\n            axios.post(`${props.action}${props.id}`, data)\n                .then((res) => {\n                    if (res.data)\n                        props.postState(true);\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n        }\n        else {\n            setError(err);\n        }\n\n    };\n    return (\n        <React.Fragment>\n            <form className=\"add-message-form\" >\n                <TextField inputRef={name} label=\"שם מלא\" />\n                <TextField\n                    error={error}\n                    label=\"הכנס דואל כאן\"\n                    helperText={error ? \"מייל לא תקין\" : \"\"}\n                    inputRef={mail}\n                />\n                <TextField\n                    inputRef={text}\n                    id=\"standard-textarea\"\n                    label=\"תגובה\"\n                    rows=\"4\"\n                    multiline\n                />\n                <Button\n                    dir=\"ltr\"\n                    type=\"submit\"\n                    onSubmit={(e) => {\n                        sendComment();\n                        e.preventDefault();\n                    }}\n                    variant=\"contained\"\n                    endIcon={<SendIcon />}\n                    onClick={sendComment}\n                >\n                    שלח\n        </Button>\n            </form>\n        </React.Fragment>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}