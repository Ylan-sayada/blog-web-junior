{"ast":null,"code":"import _slicedToArray from\"/home/ilan/Documents/Developement/Mes_projets/BlogWebJunior/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import PreviewArticle from'../components/ect/PreviewArticle';import FineSep from'../components/sep/FineSep';import TitleLine from'../components/stylised title/TitleLine';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var langHandle={\"heb\":{\"latest\":\"פוסטים אחרונים\",\"oldest\":\"פוסטים ישנים\",\"hotest\":\"להיטים\"}};export default function ArticleWidgetGenerator(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setArticles=_useState2[1];useEffect(function(){var orderBy={latest:\"date\",oldest:\"date-reverse\",hotest:\"viewNum\"};axios.get(\"api/articles/0/\".concat(props.count,\"/\").concat(orderBy[props.orderBy])).then(function(res){setArticles(res.data[res.data.length-1]);}).catch(function(err){console.log(err);});},[props.count,props.orderBy]);var title=langHandle[\"heb\"][props.orderBy];return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(props.orderBy,\"-article center\"),children:[/*#__PURE__*/_jsx(TitleLine,{size:\"small\",children:title}),articles&&articles.map(function(element,index){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(PreviewArticle,{article:element}),/*#__PURE__*/_jsx(FineSep,{})]},index);})]});}","map":{"version":3,"sources":["/home/ilan/Documents/Developement/Mes_projets/BlogWebJunior/client/src/common/mainComponents/ArticleWidgetGenerator.tsx"],"names":["React","useEffect","useState","PreviewArticle","FineSep","TitleLine","axios","langHandle","ArticleWidgetGenerator","props","articles","setArticles","orderBy","latest","oldest","hotest","get","count","then","res","data","length","catch","err","console","log","title","map","element","index"],"mappings":"yLAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,cAAP,KAA2B,kCAA3B,CACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wCAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFACA,GAAIC,CAAAA,UAAU,CAAG,CACb,MAAO,CACH,SAAU,gBADP,CAEH,SAAU,cAFP,CAGH,SAAU,QAHP,CADM,CAAjB,CAUA,cAAe,SAASC,CAAAA,sBAAT,CAAgCC,KAAhC,CAAsF,CACjG,cAA8BP,QAAQ,CAAC,EAAD,CAAtC,wCAAKQ,QAAL,eAAeC,WAAf,eACAV,SAAS,CAAC,UAAM,CACZ,GAAIW,CAAAA,OAAO,CAAG,CACVC,MAAM,CAAE,MADE,CAEVC,MAAM,CAAE,cAFE,CAGVC,MAAM,CAAE,SAHE,CAAd,CAKAT,KAAK,CAACU,GAAN,0BAA4BP,KAAK,CAACQ,KAAlC,aAA2CL,OAAO,CAACH,KAAK,CAACG,OAAP,CAAlD,GACKM,IADL,CACU,SAACC,GAAD,CAAc,CAChBR,WAAW,CAACQ,GAAG,CAACC,IAAJ,CAASD,GAAG,CAACC,IAAJ,CAASC,MAAT,CAAkB,CAA3B,CAAD,CAAX,CACH,CAHL,EAIKC,KAJL,CAIW,SAACC,GAAD,CAAS,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CANL,EAOH,CAbQ,CAaN,CAACd,KAAK,CAACQ,KAAP,CAAcR,KAAK,CAACG,OAApB,CAbM,CAAT,CAeA,GAAIc,CAAAA,KAAK,CAAGnB,UAAU,CAAC,KAAD,CAAV,CAAkBE,KAAK,CAACG,OAAxB,CAAZ,CAEA,mBACI,aAAK,SAAS,WAAKH,KAAK,CAACG,OAAX,mBAAd,wBACI,KAAC,SAAD,EAAW,IAAI,CAAC,OAAhB,UAAyBc,KAAzB,EADJ,CAEKhB,QAAQ,EAAIA,QAAQ,CAACiB,GAAT,CACT,SAACC,OAAD,CAAUC,KAAV,qBAAqB,MAAC,KAAD,CAAO,QAAP,yBACjB,KAAC,cAAD,EAAgB,OAAO,CAAED,OAAzB,EADiB,cAEjB,KAAC,OAAD,IAFiB,GAAqBC,KAArB,CAArB,EADS,CAFjB,GADJ,CAaH","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport PreviewArticle from '../components/ect/PreviewArticle';\nimport FineSep from '../components/sep/FineSep';\nimport TitleLine from '../components/stylised title/TitleLine';\nimport axios from \"axios\";\nlet langHandle = {\n    \"heb\": {\n        \"latest\": \"פוסטים אחרונים\",\n        \"oldest\": \"פוסטים ישנים\",\n        \"hotest\": \"להיטים\"\n    }\n}\n\ntype OrderBy = 'latest' | 'oldest' | 'hotest';\n\nexport default function ArticleWidgetGenerator(props: { orderBy: OrderBy, count?: number | string }) {\n    let [articles, setArticles] = useState([]);\n    useEffect(() => {\n        let orderBy = {\n            latest: \"date\",\n            oldest: \"date-reverse\",\n            hotest: \"viewNum\"\n        }\n        axios.get(`api/articles/0/${props.count}/${orderBy[props.orderBy]}`)\n            .then((res: any) => {\n                setArticles(res.data[res.data.length - 1]);\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }, [props.count, props.orderBy]);\n\n    let title = langHandle[\"heb\"][props.orderBy];\n\n    return (\n        <div className={`${props.orderBy}-article center`}>\n            <TitleLine size=\"small\">{title}</TitleLine>\n            {articles && articles.map(\n                (element, index) => (<React.Fragment key={index}>\n                    <PreviewArticle article={element} />\n                    <FineSep />\n                </React.Fragment>\n                )\n\n            )}\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}