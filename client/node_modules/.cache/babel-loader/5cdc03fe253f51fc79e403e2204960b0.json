{"ast":null,"code":"var _jsxFileName = \"/home/ilan/Documents/Developement/Mes_projets/WebJuniorBlog/client/blog-web-junior2/src/common/mainComponents/ArticleWidgetGenerator.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport PreviewArticle from '../components/ect/PreviewArticle';\nimport FineSep from '../components/sep/FineSep';\nimport TitleLine from '../components/stylised title/TitleLine';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet langHandle = {\n  \"heb\": {\n    \"latest\": \"פוסטים אחרונים\",\n    \"oldest\": \"פוסטים ישנים\",\n    \"hotest\": \"להיטים\"\n  }\n};\nexport default function ArticleWidgetGenerator(props) {\n  _s();\n\n  let [articles, setArticles] = useState([]);\n  useEffect(() => {\n    let orderBy = {\n      latest: \"date\",\n      oldest: \"date-reverse\",\n      hotest: \"viewNum\"\n    };\n    axios.get(`api/articles/0/${props.count}/${orderBy[props.orderBy]}`).then(res => {\n      console.log(res.data[1]);\n      setArticles(res.data[res.data.length - 1]);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, [props.count, props.orderBy]);\n  let title = langHandle[\"heb\"][props.orderBy];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${props.orderBy}-article center`,\n    children: [/*#__PURE__*/_jsxDEV(TitleLine, {\n      size: \"small\",\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), articles && articles.map((element, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(PreviewArticle, {\n        article: element\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(FineSep, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 38\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ArticleWidgetGenerator, \"XsOpLvUbTkfx79dw07TVNsBviNQ=\");\n\n_c = ArticleWidgetGenerator;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArticleWidgetGenerator\");","map":{"version":3,"sources":["/home/ilan/Documents/Developement/Mes_projets/WebJuniorBlog/client/blog-web-junior2/src/common/mainComponents/ArticleWidgetGenerator.tsx"],"names":["React","useEffect","useState","PreviewArticle","FineSep","TitleLine","axios","langHandle","ArticleWidgetGenerator","props","articles","setArticles","orderBy","latest","oldest","hotest","get","count","then","res","console","log","data","length","catch","err","title","map","element","index"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,SAAP,MAAsB,wCAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,IAAIC,UAAU,GAAG;AACb,SAAO;AACH,cAAU,gBADP;AAEH,cAAU,cAFP;AAGH,cAAU;AAHP;AADM,CAAjB;AAUA,eAAe,SAASC,sBAAT,CAAgCC,KAAhC,EAAsF;AAAA;;AACjG,MAAI,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAtC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIW,OAAO,GAAG;AACVC,MAAAA,MAAM,EAAE,MADE;AAEVC,MAAAA,MAAM,EAAE,cAFE;AAGVC,MAAAA,MAAM,EAAE;AAHE,KAAd;AAKAT,IAAAA,KAAK,CAACU,GAAN,CAAW,kBAAiBP,KAAK,CAACQ,KAAM,IAAGL,OAAO,CAACH,KAAK,CAACG,OAAP,CAAgB,EAAlE,EACKM,IADL,CACWC,GAAD,IAAc;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAAS,CAAT,CAAZ;AACAX,MAAAA,WAAW,CAACQ,GAAG,CAACG,IAAJ,CAASH,GAAG,CAACG,IAAJ,CAASC,MAAT,GAAkB,CAA3B,CAAD,CAAX;AACH,KAJL,EAKKC,KALL,CAKYC,GAAD,IAAS;AACZL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,KAPL;AAQH,GAdQ,EAcN,CAAChB,KAAK,CAACQ,KAAP,EAAcR,KAAK,CAACG,OAApB,CAdM,CAAT;AAgBA,MAAIc,KAAK,GAAGnB,UAAU,CAAC,KAAD,CAAV,CAAkBE,KAAK,CAACG,OAAxB,CAAZ;AAEA,sBACI;AAAK,IAAA,SAAS,EAAG,GAAEH,KAAK,CAACG,OAAQ,iBAAjC;AAAA,4BACI,QAAC,SAAD;AAAW,MAAA,IAAI,EAAC,OAAhB;AAAA,gBAAyBc;AAAzB;AAAA;AAAA;AAAA;AAAA,YADJ,EAEKhB,QAAQ,IAAIA,QAAQ,CAACiB,GAAT,CACT,CAACC,OAAD,EAAUC,KAAV,kBAAqB,QAAC,KAAD,CAAO,QAAP;AAAA,8BACjB,QAAC,cAAD;AAAgB,QAAA,OAAO,EAAED;AAAzB;AAAA;AAAA;AAAA;AAAA,cADiB,eAEjB,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,cAFiB;AAAA,OAAqBC,KAArB;AAAA;AAAA;AAAA;AAAA,YADZ,CAFjB;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAaH;;GAjCuBrB,sB;;KAAAA,sB","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport PreviewArticle from '../components/ect/PreviewArticle';\nimport FineSep from '../components/sep/FineSep';\nimport TitleLine from '../components/stylised title/TitleLine';\nimport axios from \"axios\";\nlet langHandle = {\n    \"heb\": {\n        \"latest\": \"פוסטים אחרונים\",\n        \"oldest\": \"פוסטים ישנים\",\n        \"hotest\": \"להיטים\"\n    }\n}\n\ntype OrderBy = 'latest' | 'oldest' | 'hotest';\n\nexport default function ArticleWidgetGenerator(props: { orderBy: OrderBy, count?: number | string }) {\n    let [articles, setArticles] = useState([]);\n    useEffect(() => {\n        let orderBy = {\n            latest: \"date\",\n            oldest: \"date-reverse\",\n            hotest: \"viewNum\"\n        }\n        axios.get(`api/articles/0/${props.count}/${orderBy[props.orderBy]}`)\n            .then((res: any) => {\n                console.log(res.data[1])\n                setArticles(res.data[res.data.length - 1]);\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }, [props.count, props.orderBy]);\n\n    let title = langHandle[\"heb\"][props.orderBy];\n\n    return (\n        <div className={`${props.orderBy}-article center`}>\n            <TitleLine size=\"small\">{title}</TitleLine>\n            {articles && articles.map(\n                (element, index) => (<React.Fragment key={index}>\n                    <PreviewArticle article={element} />\n                    <FineSep />\n                </React.Fragment>\n                )\n\n            )}\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}