{"ast":null,"code":"import _slicedToArray from\"/home/ilan/Documents/Developement/Mes_projets/BlogWebJunior/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Pagination from'@material-ui/lab/Pagination';import PreviewArticle from'../components/ect/PreviewArticle';import TitleLine from'../components/stylised title/TitleLine';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ArticleGenerator(){// let [orderBy, setOrderBy] = useState(\"latest\");\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setArticles=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),sumArticle=_useState4[0],setsumArticle=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),index=_useState6[0],setindex=_useState6[1];useEffect(function(){axios.get(\"api/articles/\".concat(index,\"/5/date-reverse\")).then(function(res){if(index===0){setArticles(res.data[1]);setsumArticle(res.data[0]);}else{setArticles(res.data);}}).catch(function(err){console.log(err);});},[index]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TitleLine,{size:\"medium\",children:\"\\u05DB\\u05DC \\u05D4\\u05E4\\u05D5\\u05E1\\u05D8\\u05D9\\u05DD\"}),articles&&articles.map(function(element,index){return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(PreviewArticle,{article:element,column:true})},index);}),/*#__PURE__*/_jsx(Pagination,{onClick:function onClick(e){var currentIndex=parseInt(e.target.innerText);currentIndex===1?setindex(0):setindex((currentIndex-1)*5);},style:{width:\"max-content\",margin:\"25px auto\"},count:Math.ceil(sumArticle/5),size:\"small\"})]});}","map":{"version":3,"sources":["/home/ilan/Documents/Developement/Mes_projets/BlogWebJunior/client/src/common/mainComponents/ArticleGenerator.tsx"],"names":["React","useState","useEffect","Pagination","PreviewArticle","TitleLine","axios","ArticleGenerator","articles","setArticles","sumArticle","setsumArticle","index","setindex","get","then","res","data","catch","err","console","log","map","element","e","currentIndex","parseInt","target","innerText","width","margin","Math","ceil"],"mappings":"yLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,6BAAvB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kCAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,wCAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,cAAe,SAASC,CAAAA,gBAAT,EAA4B,CACvC;AACA,cAA8BN,QAAQ,CAAC,EAAD,CAAtC,wCAAKO,QAAL,eAAeC,WAAf,eACA,eAAoCR,QAAQ,CAAC,CAAD,CAA5C,yCAAOS,UAAP,eAAmBC,aAAnB,eACA,eAAwBV,QAAQ,CAAC,CAAD,CAAhC,yCAAKW,KAAL,eAAYC,QAAZ,eAEAX,SAAS,CAAC,UAAM,CACZI,KAAK,CAACQ,GAAN,wBAA0BF,KAA1B,qBACKG,IADL,CACU,SAACC,GAAD,CAAc,CAChB,GAAIJ,KAAK,GAAK,CAAd,CAAiB,CACbH,WAAW,CAACO,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAD,CAAX,CACAN,aAAa,CAACK,GAAG,CAACC,IAAJ,CAAS,CAAT,CAAD,CAAb,CACH,CAHD,IAIK,CACDR,WAAW,CAACO,GAAG,CAACC,IAAL,CAAX,CACH,CACJ,CATL,EAUKC,KAVL,CAUW,SAACC,GAAD,CAAS,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAZL,EAaH,CAdQ,CAcN,CAACP,KAAD,CAdM,CAAT,CAgBA,mBACI,oCACI,KAAC,SAAD,EAAW,IAAI,CAAC,QAAhB,qEADJ,CAEKJ,QAAQ,EAAIA,QAAQ,CAACc,GAAT,CACT,SAACC,OAAD,CAAUX,KAAV,qBACI,KAAC,KAAD,CAAO,QAAP,wBACI,KAAC,cAAD,EAAgB,OAAO,CAAEW,OAAzB,CAAkC,MAAM,KAAxC,EADJ,EAAqBX,KAArB,CADJ,EADS,CAFjB,cAUI,KAAC,UAAD,EACI,OAAO,CACH,iBAACY,CAAD,CAAY,CACR,GAAIC,CAAAA,YAAY,CAAGC,QAAQ,CAACF,CAAC,CAACG,MAAF,CAASC,SAAV,CAA3B,CACAH,YAAY,GAAK,CAAjB,CAAqBZ,QAAQ,CAAC,CAAD,CAA7B,CAAmCA,QAAQ,CAAC,CAACY,YAAY,CAAG,CAAhB,EAAqB,CAAtB,CAA3C,CACH,CALT,CAOI,KAAK,CAAE,CAAEI,KAAK,CAAE,aAAT,CAAwBC,MAAM,CAAE,WAAhC,CAPX,CAQI,KAAK,CAAEC,IAAI,CAACC,IAAL,CAAUtB,UAAU,CAAG,CAAvB,CARX,CASI,IAAI,CAAC,OATT,EAVJ,GADJ,CAuBH","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Pagination from '@material-ui/lab/Pagination';\nimport PreviewArticle from '../components/ect/PreviewArticle';\nimport TitleLine from '../components/stylised title/TitleLine';\nimport axios from 'axios';\n\nexport default function ArticleGenerator() {\n    // let [orderBy, setOrderBy] = useState(\"latest\");\n    let [articles, setArticles] = useState([]);\n    const [sumArticle, setsumArticle] = useState(0)\n    let [index, setindex] = useState(0)\n\n    useEffect(() => {\n        axios.get(`api/articles/${index}/5/date-reverse`)\n            .then((res: any) => {\n                if (index === 0) {\n                    setArticles(res.data[1]);\n                    setsumArticle(res.data[0]);\n                }\n                else {\n                    setArticles(res.data);\n                }\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }, [index]);\n\n    return (\n        <div>\n            <TitleLine size=\"medium\">כל הפוסטים</TitleLine>\n            {articles && articles.map(\n                (element, index) => (\n                    <React.Fragment key={index}>\n                        <PreviewArticle article={element} column />\n                    </React.Fragment>\n                )\n\n            )}\n            <Pagination\n                onClick={\n                    (e: any) => {\n                        let currentIndex = parseInt(e.target.innerText);\n                        currentIndex === 1 ? setindex(0) : setindex((currentIndex - 1) * 5)\n                    }\n                }\n                style={{ width: \"max-content\", margin: \"25px auto\" }}\n                count={Math.ceil(sumArticle / 5)}\n                size=\"small\" />\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}