{"ast":null,"code":"var _jsxFileName = \"/home/ilan/Documents/Developement/Mes_projets/BlogWebJunior/client/src/common/components/inputs/MessageForm/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState } from 'react';\nimport \"./MessageForm.scss\";\nimport { Button, TextField } from '@material-ui/core';\nimport SendIcon from '@material-ui/icons/Send';\nimport axios from 'axios';\nimport { buttonStyle, inputStyle } from '../../../../ressources/Mui-styles/InteractionStyle';\nimport { isEmail, checkObjectBoolValue } from '../../../utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MessageForm(props) {\n  _s();\n\n  let classesBtn = buttonStyle();\n  let classesInput = inputStyle();\n  let errStateObject = {\n    errOnMail: false,\n    errOnName: false,\n    errOnTxt: false\n  };\n  let [error, setError] = useState(errStateObject);\n  const name = useRef(document.createElement(\"input\"));\n  const mail = useRef(document.createElement(\"input\"));\n  const text = useRef(document.createElement(\"input\"));\n\n  let sendComment = () => {\n    let data = {\n      name: name.current.value,\n      mail: mail.current.value,\n      date: new Date(),\n      text: text.current.value,\n      articleID: props.id\n    };\n    errStateObject = {\n      errOnMail: !isEmail(data.mail),\n      errOnName: data.name.length > 10 || data.name.length === 0,\n      errOnTxt: data.text.length === 0\n    };\n    checkObjectBoolValue(errStateObject, false) ? setError(errStateObject) : axios.post(`${props.action}`, data).then(res => {\n      if (res.data) props.postState(true);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        sendComment();\n      },\n      className: \"add-message-form\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        error: error.errOnName,\n        helperText: error.errOnName ? \"ארוך מדיי(מעל 10 תווים)/ריק\" : \"\",\n        inputRef: name,\n        className: classesInput.root,\n        label: \"\\u05E9\\u05DD \\u05DE\\u05DC\\u05D0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        error: error.errOnMail,\n        label: \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05D3\\u05D5\\u05D0\\u05DC \\u05DB\\u05D0\\u05DF\",\n        helperText: error.errOnMail ? \"מייל לא תקין\" : \"\",\n        className: classesInput.root,\n        inputRef: mail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        error: error.errOnTxt,\n        helperText: error.errOnTxt ? \"השדה ריק\" : \"\",\n        inputRef: text,\n        className: classesInput.root,\n        id: \"standard-textarea\",\n        label: \"\\u05EA\\u05D2\\u05D5\\u05D1\\u05D4\",\n        rows: \"4\",\n        multiline: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        dir: \"ltr\",\n        type: \"submit\",\n        endIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 30\n        }, this),\n        className: classesBtn.root,\n        children: \"\\u05E9\\u05DC\\u05D7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MessageForm, \"h44u5V/jyof1BQ/gj3/b4jjyyGs=\");\n\n_c = MessageForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"MessageForm\");","map":{"version":3,"sources":["/home/ilan/Documents/Developement/Mes_projets/BlogWebJunior/client/src/common/components/inputs/MessageForm/index.tsx"],"names":["React","useRef","useState","Button","TextField","SendIcon","axios","buttonStyle","inputStyle","isEmail","checkObjectBoolValue","MessageForm","props","classesBtn","classesInput","errStateObject","errOnMail","errOnName","errOnTxt","error","setError","name","document","createElement","mail","text","sendComment","data","current","value","date","Date","articleID","id","length","post","action","then","res","postState","catch","console","log","e","preventDefault","root"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react';\nimport \"./MessageForm.scss\";\nimport { Button, TextField } from '@material-ui/core';\nimport SendIcon from '@material-ui/icons/Send';\nimport axios from 'axios';\nimport { buttonStyle, inputStyle } from '../../../../ressources/Mui-styles/InteractionStyle';\nimport { isEmail, checkObjectBoolValue } from '../../../utils';\nexport default function MessageForm(props: { id: string, action: string, postState: any }) {\n    let classesBtn = buttonStyle();\n    let classesInput = inputStyle();\n    let errStateObject = {\n        errOnMail: false,\n        errOnName: false,\n        errOnTxt: false\n    }\n    let [error, setError] = useState(errStateObject);\n    const name = useRef(document.createElement(\"input\"));\n    const mail = useRef(document.createElement(\"input\"));\n    const text = useRef(document.createElement(\"input\"));\n\n    let sendComment = () => {\n        let data = {\n            name: name.current.value,\n            mail: mail.current.value,\n            date: new Date(),\n            text: text.current.value,\n            articleID: props.id\n        }\n        errStateObject = {\n            errOnMail: !isEmail(data.mail),\n            errOnName: data.name.length > 10 || data.name.length === 0,\n            errOnTxt: data.text.length === 0,\n        }\n\n        checkObjectBoolValue(errStateObject, false) ?\n            setError(errStateObject)\n            :\n            axios.post(`${props.action}`, data)\n                .then((res) => {\n                    if (res.data)\n                        props.postState(true);\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n    };\n    return (\n        <React.Fragment>\n            <form onSubmit={(e) => {\n                e.preventDefault();\n                sendComment();\n            }} className=\"add-message-form\"\n            >\n                <TextField\n                    error={error.errOnName}\n                    helperText={error.errOnName ? \"ארוך מדיי(מעל 10 תווים)/ריק\" : \"\"}\n                    inputRef={name}\n                    className={classesInput.root}\n                    label=\"שם מלא\" />\n                <TextField\n                    error={error.errOnMail}\n                    label=\"הכנס דואל כאן\"\n                    helperText={error.errOnMail ? \"מייל לא תקין\" : \"\"}\n                    className={classesInput.root}\n                    inputRef={mail}\n                />\n                <TextField\n                    error={error.errOnTxt}\n                    helperText={error.errOnTxt ? \"השדה ריק\" : \"\"}\n                    inputRef={text}\n                    className={classesInput.root}\n                    id=\"standard-textarea\"\n                    label=\"תגובה\"\n                    rows=\"4\"\n                    multiline\n                />\n                <Button\n                    dir=\"ltr\"\n                    type=\"submit\"\n                    endIcon={<SendIcon />}\n                    className={classesBtn.root}\n\n                >\n                    שלח\n                </Button>\n            </form>\n        </React.Fragment>\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}