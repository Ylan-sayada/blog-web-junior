{"ast":null,"code":"var _jsxFileName = \"/home/ilan/Documents/Developement/Mes_projets/WebJuniorBlog/client/blog-web-junior2/src/common/vendorComponents/materialUi/input/MessageForm.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState } from 'react';\nimport { Button, TextField } from '@material-ui/core';\nimport SendIcon from '@material-ui/icons/Send';\nimport axios from 'axios';\nimport isEmail from '../../../../utils/isEmail';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MessageForm(props) {\n  _s();\n\n  let errStateObject = {\n    errOnMail: false,\n    errOnName: false,\n    errOnTxt: false\n  };\n  let [error, setError] = useState(errStateObject);\n  const name = useRef(document.createElement(\"input\"));\n  const mail = useRef(document.createElement(\"input\"));\n  const text = useRef(document.createElement(\"input\"));\n\n  let sendComment = () => {\n    let data = {\n      name: name.current.value,\n      mail: mail.current.value,\n      date: new Date(),\n      text: text.current.value,\n      articleID: props.id\n    };\n    let err = Object.assign({}, errStateObject);\n    err.errOnMail = isEmail(data.mail) ? false : true;\n    err.errOnName = data.name.length > 10 || data.name.length === 0 ? true : false;\n    err.errOnTxt = data.text.length === 0 ? true : false;\n    let res = Object.values(err);\n\n    if (!res.includes(true)) {\n      axios.post(`${props.action}${props.id}`, data).then(res => {\n        if (res.data) props.postState(true);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } else {\n      setError(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        e.preventDefault();\n        sendComment();\n      },\n      className: \"add-message-form\",\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        error: error.errOnName,\n        helperText: error.errOnName ? \"ארוך מדיי(מעל 10 תווים)/ריק\" : \"\",\n        inputRef: name,\n        label: \"\\u05E9\\u05DD \\u05DE\\u05DC\\u05D0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        error: error.errOnMail,\n        label: \"\\u05D4\\u05DB\\u05E0\\u05E1 \\u05D3\\u05D5\\u05D0\\u05DC \\u05DB\\u05D0\\u05DF\",\n        helperText: error.errOnMail ? \"מייל לא תקין\" : \"\",\n        inputRef: mail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        error: error.errOnTxt,\n        helperText: error.errOnTxt ? \"השדה ריק\" : \"\",\n        inputRef: text,\n        id: \"standard-textarea\",\n        label: \"\\u05EA\\u05D2\\u05D5\\u05D1\\u05D4\",\n        rows: \"4\",\n        multiline: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        dir: \"ltr\",\n        type: \"submit\",\n        variant: \"contained\",\n        endIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 30\n        }, this),\n        children: \"\\u05E9\\u05DC\\u05D7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n\n_s(MessageForm, \"h44u5V/jyof1BQ/gj3/b4jjyyGs=\");\n\n_c = MessageForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"MessageForm\");","map":{"version":3,"sources":["/home/ilan/Documents/Developement/Mes_projets/WebJuniorBlog/client/blog-web-junior2/src/common/vendorComponents/materialUi/input/MessageForm.tsx"],"names":["React","useRef","useState","Button","TextField","SendIcon","axios","isEmail","MessageForm","props","errStateObject","errOnMail","errOnName","errOnTxt","error","setError","name","document","createElement","mail","text","sendComment","data","current","value","date","Date","articleID","id","err","Object","assign","length","res","values","includes","post","action","then","postState","catch","console","log","e","preventDefault"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react'\nimport { Button, TextField } from '@material-ui/core';\nimport SendIcon from '@material-ui/icons/Send';\nimport axios from 'axios';\nimport isEmail from '../../../../utils/isEmail';\nexport default function MessageForm(props: { id: string, action: string, postState: any }) {\n    let errStateObject = {\n        errOnMail: false,\n        errOnName: false,\n        errOnTxt: false\n    }\n    let [error, setError] = useState(errStateObject);\n    const name = useRef(document.createElement(\"input\"));\n    const mail = useRef(document.createElement(\"input\"));\n    const text = useRef(document.createElement(\"input\"));\n\n    let sendComment = () => {\n        let data = {\n            name: name.current.value,\n            mail: mail.current.value,\n            date: new Date(),\n            text: text.current.value,\n            articleID: props.id\n        }\n        let err = Object.assign({}, errStateObject);\n        err.errOnMail = isEmail(data.mail) ? false : true;\n        err.errOnName = data.name.length > 10 || data.name.length === 0 ? true : false;\n        err.errOnTxt = data.text.length === 0 ? true : false;\n        let res = Object.values(err);\n\n        if (!res.includes(true)) {\n            axios.post(`${props.action}${props.id}`, data)\n                .then((res) => {\n                    if (res.data)\n                        props.postState(true);\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n        }\n        else {\n            setError(err);\n        }\n\n    };\n    return (\n        <React.Fragment>\n            <form onSubmit={(e) => {\n                e.preventDefault();\n                sendComment();\n            }} className=\"add-message-form\"\n            >\n                <TextField\n                    error={error.errOnName}\n                    helperText={error.errOnName ? \"ארוך מדיי(מעל 10 תווים)/ריק\" : \"\"}\n                    inputRef={name}\n                    label=\"שם מלא\" />\n                <TextField\n                    error={error.errOnMail}\n                    label=\"הכנס דואל כאן\"\n                    helperText={error.errOnMail ? \"מייל לא תקין\" : \"\"}\n                    inputRef={mail}\n                />\n                <TextField\n                    error={error.errOnTxt}\n                    helperText={error.errOnTxt ? \"השדה ריק\" : \"\"}\n                    inputRef={text}\n                    id=\"standard-textarea\"\n                    label=\"תגובה\"\n                    rows=\"4\"\n                    multiline\n                />\n                <Button\n                    dir=\"ltr\"\n                    type=\"submit\"\n                    variant=\"contained\"\n                    endIcon={<SendIcon />}\n                >\n                    שלח\n        </Button>\n            </form>\n        </React.Fragment>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}